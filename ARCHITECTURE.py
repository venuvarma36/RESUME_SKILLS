"""
Visual Architecture Diagram Generator
Creates a visual representation of the system architecture.
"""


ARCHITECTURE_ASCII = """
╔═══════════════════════════════════════════════════════════════════════════════╗
║                    RESUME SKILL RECOGNITION SYSTEM                            ║
║                         Architecture Overview                                 ║
╚═══════════════════════════════════════════════════════════════════════════════╝

┌───────────────────────────────────────────────────────────────────────────────┐
│                               INPUT LAYER                                     │
├───────────────────────────────────────────────────────────────────────────────┤
│                                                                               │
│  ┌─────────────┐  ┌─────────────┐  ┌─────────────┐  ┌──────────────────┐  │
│  │ PDF Files   │  │ DOCX Files  │  │ Scanned PDFs│  │ Job Description  │  │
│  │ (text-based)│  │             │  │  (images)   │  │     (text)       │  │
│  └──────┬──────┘  └──────┬──────┘  └──────┬──────┘  └────────┬─────────┘  │
│         │                │                │                   │             │
└─────────┼────────────────┼────────────────┼───────────────────┼─────────────┘
          │                │                │                   │
          └────────────────┴────────┬───────┘                   │
                                    │                           │
┌────────────────────────────────────▼──────────────────────────┼─────────────┐
│                        TEXT EXTRACTION LAYER                  │             │
├───────────────────────────────────────────────────────────────┼─────────────┤
│                                                               │             │
│  ┌──────────────┐  ┌──────────────┐  ┌────────────────────┐ │             │
│  │ PyPDF2 /     │  │ python-docx  │  │  pytesseract OCR   │ │             │
│  │ pdfplumber   │  │              │  │   (automatic       │ │             │
│  │              │  │              │  │    fallback)       │ │             │
│  └──────┬───────┘  └──────┬───────┘  └─────────┬──────────┘ │             │
│         │                 │                    │             │             │
│         └─────────────────┴────────────────────┘             │             │
│                            │                                 │             │
│                  ┌─────────▼─────────┐                       │             │
│                  │  Extracted Text   │                       │             │
│                  │  + Metadata       │                       │             │
│                  └─────────┬─────────┘                       │             │
└────────────────────────────┼─────────────────────────────────┼─────────────┘
                             │                                 │
┌────────────────────────────▼─────────────────────────────────┼─────────────┐
│                     PREPROCESSING PIPELINE                   │             │
├──────────────────────────────────────────────────────────────┼─────────────┤
│                                                              │             │
│  1. Unicode Normalization                                   │             │
│  2. Lowercasing & Punctuation Removal                       │             │
│  3. Stopword Removal (NLTK)                                 │             │
│  4. Lemmatization (WordNet)                                 │             │
│  5. Technical Term Preservation (regex)                     │             │
│  6. Tokenization                                            │             │
│                                                              │             │
│                  ┌─────────▼─────────┐                       │             │
│                  │ Cleaned & Tokens  │                       │             │
│                  └─────────┬─────────┘                       │             │
└────────────────────────────┼─────────────────────────────────┼─────────────┘
                             │                                 │
┌────────────────────────────▼─────────────────────────────────▼─────────────┐
│                      SKILL EXTRACTION ENGINE                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────────┐        ┌──────────────────────────┐            │
│  │  NER-Based Extraction │        │  Rule-Based Extraction   │            │
│  ├───────────────────────┤        ├──────────────────────────┤            │
│  │                       │        │                          │            │
│  │ • BERT / DistilBERT   │        │ • Regex Pattern Matching │            │
│  │ • Entity Recognition  │        │ • Dictionary Lookup      │            │
│  │ • Confidence Scoring  │        │ • 500+ Skills Database   │            │
│  │                       │        │ • Synonym Mapping        │            │
│  └───────────┬───────────┘        └────────────┬─────────────┘            │
│              │                                  │                          │
│              └──────────────┬───────────────────┘                          │
│                             │                                              │
│                   ┌─────────▼─────────┐                                    │
│                   │  Skill Merging &  │                                    │
│                   │  Normalization    │                                    │
│                   └─────────┬─────────┘                                    │
│                             │                                              │
│              ┌──────────────┴───────────────┐                              │
│              ▼                              ▼                              │
│  ┌───────────────────────┐   ┌────────────────────────┐                   │
│  │ Technical Skills      │   │  Soft Skills           │                   │
│  │ Tools & Frameworks    │   │  Certifications        │                   │
│  └───────────┬───────────┘   └────────────┬───────────┘                   │
└──────────────┼──────────────────────────────┼───────────────────────────────┘
               │                              │
┌──────────────▼──────────────────────────────▼───────────────────────────────┐
│                      FEATURE ENGINEERING                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌─────────────────────────────────────────────────────────────┐           │
│  │         Sentence-BERT Embeddings                            │           │
│  │         (all-MiniLM-L6-v2)                                  │           │
│  │                                                             │           │
│  │  • Generate 384-dim vectors                                │           │
│  │  • Weighted category embeddings                            │           │
│  │  • L2 normalization                                        │           │
│  │  • Embedding caching                                       │           │
│  └─────────────────────┬───────────────────────────────────────┘           │
│                        │                                                   │
│              ┌─────────▼─────────┐                                         │
│              │  Feature Vectors  │                                         │
│              │  (Normalized)     │                                         │
│              └─────────┬─────────┘                                         │
└────────────────────────┼─────────────────────────────────────────────────────┘
                         │
┌────────────────────────▼─────────────────────────────────────────────────────┐
│                   MATCHING ENGINE & ML MODEL                                │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────────────────┐        ┌────────────────────────────┐           │
│  │ Cosine Similarity    │        │  ML Classification         │           │
│  ├──────────────────────┤        ├────────────────────────────┤           │
│  │                      │        │                            │           │
│  │ • Resume vs JD       │        │ • SVM (Linear Kernel)      │           │
│  │ • Category Breakdown │        │ • Random Forest (optional) │           │
│  │ • Weighted Scoring   │        │ • Logistic Regression      │           │
│  │                      │        │ • Cross-validation         │           │
│  └──────────┬───────────┘        └────────────┬───────────────┘           │
│             │                                  │                           │
│             └──────────────┬───────────────────┘                           │
│                            │                                               │
│                  ┌─────────▼─────────┐                                     │
│                  │  Final Match Score│                                     │
│                  │  (0.0 - 1.0)      │                                     │
│                  └─────────┬─────────┘                                     │
└────────────────────────────┼─────────────────────────────────────────────────┘
                             │
┌────────────────────────────▼─────────────────────────────────────────────────┐
│                           OUTPUT LAYER                                      │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────┐  ┌──────────────────┐  ┌────────────────────────┐  │
│  │  Ranked Candidates│  │  Match Reports   │  │  Visualizations        │  │
│  ├───────────────────┤  ├──────────────────┤  ├────────────────────────┤  │
│  │                   │  │                  │  │                        │  │
│  │ • Overall Score   │  │ • Matched Skills │  │ • Score Distribution   │  │
│  │ • Match %         │  │ • Missing Skills │  │ • Category Heatmap     │  │
│  │ • Ranked List     │  │ • Category Scores│  │ • Top Candidates Chart │  │
│  │ • Export CSV/JSON │  │ • Detailed Report│  │ • Gauge Charts         │  │
│  └───────────────────┘  └──────────────────┘  └────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                        USER INTERFACE LAYER                                 │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌───────────────────┐  ┌──────────────────┐  ┌────────────────────────┐  │
│  │  Streamlit Web UI │  │  CLI Interface   │  │  Python API            │  │
│  ├───────────────────┤  ├──────────────────┤  ├────────────────────────┤  │
│  │                   │  │                  │  │                        │  │
│  │ • File Upload     │  │ • main.py        │  │ • Direct Module Import │  │
│  │ • JD Input        │  │ • Batch Process  │  │ • Programmatic Access  │  │
│  │ • Interactive UI  │  │ • Export Results │  │ • Integration Ready    │  │
│  │ • Real-time View  │  │ • Scriptable     │  │ • Embeddable           │  │
│  └───────────────────┘  └──────────────────┘  └────────────────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

┌─────────────────────────────────────────────────────────────────────────────┐
│                   SUPPORT INFRASTRUCTURE                                    │
├─────────────────────────────────────────────────────────────────────────────┤
│                                                                             │
│  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  ┌──────────────┐  │
│  │ Configuration│  │   Logging    │  │   Testing    │  │  Utilities   │  │
│  ├──────────────┤  ├──────────────┤  ├──────────────┤  ├──────────────┤  │
│  │              │  │              │  │              │  │              │  │
│  │ • YAML Config│  │ • Centralized│  │ • Unit Tests │  │ • Helpers    │  │
│  │ • Skill Dict │  │ • File + Con │  │ • pytest     │  │ • Validators │  │
│  │ • Flexible   │  │ • Structured │  │ • Coverage   │  │ • Converters │  │
│  │ • Overridable│  │ • Level-based│  │ • CI/CD Ready│  │ • Type Hints │  │
│  └──────────────┘  └──────────────┘  └──────────────┘  └──────────────┘  │
│                                                                             │
└─────────────────────────────────────────────────────────────────────────────┘

╔═════════════════════════════════════════════════════════════════════════════╗
║                          TECHNOLOGY STACK                                   ║
╠═════════════════════════════════════════════════════════════════════════════╣
║                                                                             ║
║  NLP & ML:       NLTK, spaCy, Transformers, Sentence-BERT, scikit-learn   ║
║  DL Framework:   PyTorch                                                   ║
║  Documents:      PyPDF2, pdfplumber, python-docx, pytesseract             ║
║  Data:           NumPy, Pandas, SciPy                                      ║
║  Visualization:  Matplotlib, Seaborn, Plotly                               ║
║  Web:            Streamlit                                                 ║
║  Config:         PyYAML                                                    ║
║  Testing:        pytest                                                    ║
║                                                                             ║
╚═════════════════════════════════════════════════════════════════════════════╝

╔═════════════════════════════════════════════════════════════════════════════╗
║                          KEY FEATURES                                       ║
╠═════════════════════════════════════════════════════════════════════════════╣
║                                                                             ║
║  ✓ Multi-format support (PDF, DOCX)                                        ║
║  ✓ Automatic OCR fallback                                                  ║
║  ✓ Hybrid skill extraction (NER + Rule-based)                              ║
║  ✓ 500+ skills in dictionary                                               ║
║  ✓ BERT-based embeddings                                                   ║
║  ✓ Weighted category scoring                                               ║
║  ✓ Interactive web interface                                               ║
║  ✓ Batch processing support                                                ║
║  ✓ Export to CSV/JSON                                                      ║
║  ✓ Comprehensive logging                                                   ║
║  ✓ Unit test coverage                                                      ║
║  ✓ Production-ready architecture                                           ║
║                                                                             ║
╚═════════════════════════════════════════════════════════════════════════════╝
"""


def print_architecture():
    """Print the architecture diagram."""
    print(ARCHITECTURE_ASCII)


if __name__ == "__main__":
    print_architecture()
